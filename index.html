<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio | Modern & Minimal</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=DM+Serif+Display:ital@0;1&display=swap"
        rel="stylesheet">
    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --bg-color: #F7F5F0;
            --text-color: #0F0F0D;
            --accent-color: #555;
            --border-color: rgba(15, 15, 13, 0.1);
            --transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            --dark-section: #0F0F0D;
            --light-text: #F7F5F0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'DM Sans', sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1,
        h2,
        h3,
        h4,
        .serif {
            font-family: 'DM Serif Display', serif;
            font-weight: 400;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }

        ul {
            list-style: none;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
        }

        section {
            padding: 120px 0;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        section.visible,
        section#hero {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Navbar --- */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(247, 245, 240, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            z-index: 1000;
            height: 80px;
            display: flex;
            align-items: center;
        }

        nav .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .logo {
            font-size: 24px;
            letter-spacing: -0.5px;
            font-weight: 600;
        }

        .nav-links {
            display: flex;
            gap: 40px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .nav-links a {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
            opacity: 0.6;
        }

        .nav-links a:hover {
            opacity: 1;
        }

        .admin-pill {
            background: var(--text-color);
            color: var(--bg-color);
            padding: 8px 20px;
            border-radius: 100px;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .admin-pill:hover {
            background: #333;
        }

        /* --- Hero --- */
        #hero .container {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            align-items: center;
            gap: 60px;
            min-height: 80vh;
        }

        .hero-tag {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 20px;
            display: block;
            color: var(--accent-color);
        }

        #hero h1 {
            font-size: 80px;
            line-height: 1.1;
            margin-bottom: 30px;
        }

        #hero h1 i {
            font-family: 'DM Serif Display', serif;
            font-style: italic;
        }

        .hero-bio {
            font-size: 18px;
            max-width: 500px;
            margin-bottom: 40px;
            opacity: 0.8;
        }

        .hero-ctas {
            display: flex;
            gap: 20px;
        }

        .btn {
            padding: 16px 32px;
            border-radius: 4px;
            font-weight: 500;
            font-size: 15px;
        }

        .btn-primary {
            background: var(--text-color);
            color: var(--bg-color);
        }

        .btn-secondary {
            border: 1px solid var(--border-color);
        }

        .hero-right {
            position: relative;
            display: flex;
            justify-content: center;
        }

        .avatar-container {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background: #E5E2D9;
            overflow: hidden;
            position: relative;
        }

        .avatar-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .stat-badge {
            position: absolute;
            top: 40px;
            right: -20px;
            background: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .stat-badge .num {
            display: block;
            font-size: 24px;
            font-weight: 600;
        }

        .stat-badge .label {
            font-size: 12px;
            text-transform: uppercase;
            opacity: 0.5;
        }

        .availability {
            position: absolute;
            bottom: 40px;
            left: -10px;
            background: #000;
            color: white;
            padding: 8px 16px;
            border-radius: 100px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dot {
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.5);
                opacity: 0.5;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* --- About --- */
        #about .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 100px;
        }

        #about h2 {
            font-size: 48px;
            margin-bottom: 30px;
        }

        .about-text p {
            margin-bottom: 20px;
            font-size: 18px;
            opacity: 0.8;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .stat-card {
            background: white;
            padding: 40px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            transition: var(--transition);
        }

        .stat-card:hover {
            border-color: var(--text-color);
        }

        .stat-card h3 {
            font-size: 40px;
            margin-bottom: 5px;
        }

        .stat-card p {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.5;
        }

        /* --- Skills --- */
        #cv {
            background: var(--dark-section);
            color: var(--light-text);
        }

        #skills h2 {
            font-size: 48px;
            margin-bottom: 60px;
            text-align: center;
        }

        .skills-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 40px;
        }

        .skill-col h4 {
            font-size: 20px;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(247, 245, 240, 0.1);
            font-family: 'DM Sans', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tag {
            background: rgba(247, 245, 240, 0.05);
            border: 1px solid rgba(247, 245, 240, 0.1);
            padding: 8px 16px;
            border-radius: 100px;
            font-size: 14px;
        }

        /* --- Projects --- */
        #projects h2 {
            font-size: 48px;
            margin-bottom: 60px;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        .project-card {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .thumbnail {
            width: 100%;
            aspect-ratio: 4/3;
            background: #E5E2D9;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            transition: var(--transition);
        }

        .project-card:hover .thumbnail {
            transform: scale(0.98);
        }

        .project-info h3 {
            font-size: 28px;
            margin-top: 10px;
        }

        .project-tags {
            display: flex;
            gap: 10px;
            margin-top: 5px;
        }

        .project-tag {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.5;
        }

        .project-desc {
            display: none;
        }

        .view-more-btn {
            font-size: 14px;
            font-weight: 500;
            color: var(--accent-color);
            margin-top: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* --- Project Modal --- */
        #projectModal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(15px);
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: var(--transition);
        }

        #projectModal.active {
            display: flex;
            opacity: 1;
        }

        .project-modal-content {
            background: var(--bg-color);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            border-radius: 12px;
            position: relative;
            padding: 60px;
            overflow-y: auto;
            transform: translateY(20px);
            transition: var(--transition);
            color: var(--text-color);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
        }

        #projectModal.active .project-modal-content {
            transform: translateY(0);
        }

        .close-project-modal {
            position: absolute;
            top: 25px;
            right: 25px;
            background: none;
            border: none;
            font-size: 30px;
            cursor: pointer;
            color: inherit;
            opacity: 0.5;
            transition: var(--transition);
        }

        .close-project-modal:hover {
            opacity: 1;
            transform: rotate(90deg);
        }

        .modal-body h2 {
            font-size: 40px;
            margin-bottom: 20px;
        }

        .modal-body .project-tags {
            margin-bottom: 30px;
        }

        .modal-body .full-desc {
            font-size: 20px;
            line-height: 1.6;
            opacity: 0.8;
            margin-bottom: 30px;
        }

        .modal-emoji {
            font-size: 80px;
            margin-bottom: 30px;
        }

        .view-link {
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* --- Blog --- */
        #blog h2 {
            font-size: 48px;
            margin-bottom: 60px;
        }

        .blog-list {
            display: flex;
            flex-direction: column;
        }

        .blog-item {
            display: grid;
            grid-template-columns: 100px 1fr 50px;
            align-items: center;
            padding: 40px 0;
            border-bottom: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .blog-item:hover {
            padding-left: 20px;
        }

        .blog-date {
            font-size: 40px;
            font-family: 'DM Serif Display', serif;
        }

        .blog-content h3 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .blog-category {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.5;
        }

        .blog-arrow {
            font-size: 24px;
            opacity: 0.3;
        }

        /* --- Contact --- */
        #contact {
            background: var(--dark-section);
            color: var(--light-text);
        }

        #contact .container {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 100px;
        }

        #contact h2 {
            font-size: 48px;
            margin-bottom: 40px;
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(247, 245, 240, 0.2);
            padding: 15px 0;
            color: white;
            font-family: inherit;
            font-size: 16px;
            outline: none;
            transition: var(--transition);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            border-bottom-color: white;
        }

        .submit-btn {
            align-self: flex-start;
            margin-top: 20px;
            background: white;
            color: black;
            border: none;
            padding: 18px 45px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
        }

        .contact-info-col {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .info-block h4 {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.5;
            margin-bottom: 10px;
        }

        .info-block p {
            font-size: 20px;
        }

        .social-icons {
            display: flex;
            gap: 20px;
        }

        .social-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 1px solid rgba(247, 245, 240, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: var(--transition);
        }

        .social-circle:hover {
            background: white;
            color: black;
        }

        /* --- Footer --- */
        footer {
            padding: 60px 0;
            text-align: center;
            border-top: 1px solid var(--border-color);
            font-size: 14px;
            opacity: 0.5;
        }

        /* --- Admin Modal --- */
        #adminModal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .auth-card {
            background: white;
            width: 100%;
            max-width: 400px;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .auth-card h2 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .auth-card p {
            font-size: 14px;
            opacity: 0.6;
            margin-bottom: 30px;
        }

        .google-btn {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-weight: 500;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .divider {
            position: relative;
            margin: 25px 0;
            border-bottom: 1px solid #eee;
        }

        .divider span {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 0 15px;
            font-size: 12px;
            opacity: 0.4;
            text-transform: uppercase;
        }

        .login-form {
            text-align: left;
        }

        .login-form .form-group {
            margin-bottom: 20px;
        }

        .login-form input {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ddd;
            margin-top: 8px;
        }

        .unlock-note {
            font-size: 12px;
            opacity: 0.5;
            margin-top: 20px;
        }

        /* --- Admin Panel --- */
        #adminPanel {
            position: fixed;
            inset: 0;
            background: #F4F4F4;
            z-index: 3000;
            display: none;
            grid-template-columns: 280px 1fr;
        }

        #adminPanel.active {
            display: grid;
            animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
            }

            to {
                transform: translateY(0);
            }
        }

        .admin-sidebar {
            background: white;
            border-right: 1px solid #eee;
            padding: 40px 0;
            display: flex;
            flex-direction: column;
        }

        .admin-sidebar .logo {
            padding: 0 40px;
            margin-bottom: 60px;
        }

        .admin-nav {
            flex: 1;
        }

        .admin-nav-item {
            padding: 15px 40px;
            display: flex;
            align-items: center;
            gap: 15px;
            opacity: 0.6;
            cursor: pointer;
            font-weight: 500;
            transition: 0.2s;
        }

        .admin-nav-item.active {
            opacity: 1;
            background: #F9F9F9;
            border-right: 4px solid black;
        }

        .admin-main {
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .admin-header {
            height: 90px;
            background: white;
            border-bottom: 1px solid #eee;
            padding: 0 40px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 20px;
        }

        .exit-btn {
            background: transparent;
            border: 1px solid #ddd;
            padding: 8px 20px;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .exit-btn:hover {
            background: #f5f5f5;
        }

        .logout-btn {
            background: #FFF5F5;
            color: #E53E3E;
            border: 1px solid #FEB2B2;
            padding: 8px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .logout-btn:hover {
            background: #E53E3E;
            color: white;
            border-color: #E53E3E;
        }

        .user-pill img {
            width: 24px;
            height: 24px;
            border-radius: 50%;
        }

        .exit-btn {
            background: #eee;
            color: var(--text-color);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .view-site-btn {
            background: var(--text-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .admin-content {
            flex: 1;
            padding: 50px;
            overflow-y: auto;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .admin-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .input-group input,
        .input-group textarea,
        .input-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            outline: none;
        }

        /* --- Mobile Responsive --- */
        @media (max-width: 900px) {
            .nav-links {
                display: none;
                /* Add hamburger for real implementation */
            }

            #hero .container,
            #about .container,
            #contact .container {
                grid-template-columns: 1fr;
                gap: 50px;
            }

            #hero h1 {
                font-size: 50px;
            }

            .hero-right {
                order: -1;
            }

            .avatar-container {
                width: 300px;
                height: 300px;
            }

            .skills-grid {
                grid-template-columns: 1fr;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .blog-item {
                grid-template-columns: 1fr 40px;
            }

            .blog-date {
                display: none;
            }
        }
    </style>
</head>

<body>

    <nav>
        <div class="container">
            <a href="#" class="logo serif">ANSH KHABIYA</a>
            <div class="nav-links">
                <a href="#about">About</a>
                <a href="#projects">Work</a>
                <a href="#blog">Blog</a>
                <a href="#contact">Contact</a>
                <a href="#cv">CV</a>
            </div>
            <a href="#" class="admin-pill" id="openAdmin">Admin ‚Üó</a>
        </div>
    </nav>

    <main>
        <section id="hero">
            <div class="container">
                <div class="hero-left">
                    <span class="hero-tag">Product Designer & Developer</span>
                    <h1>Crafting digital<br><i>experiences</i> that<br>matter.</h1>
                    <p class="hero-bio">Based in India, I help brands and startups build thoughtful, user-centric
                        interfaces and scalable web applications.</p>
                    <div class="hero-ctas">
                        <a href="#projects" class="btn btn-primary">View Work</a>
                    </div>
                </div>
                <div class="hero-right">
                    <div class="avatar-container">
                        <img src="profile.jpg" alt="Ansh Chauhan">
                    </div>
                    <div class="stat-badge">
                        <span class="num">‚Çπ3.5L+</span>
                        <span class="label">SPONSORSHIPS RAISED</span>
                    </div>
                    <div class="availability">
                        <div class="dot"></div>
                        Available for work
                    </div>
                </div>
            </div>
        </section>

        <section id="about">
            <div class="container">
                <div class="about-left">
                    <h2>Philosophy</h2>
                    <div class="about-text">
                        <p>I'm interested in marketing, brand strategy, and building things that have real impact.
                            Exploring businesses and the world helps shape how I think and create. Learning by doing,
                            testing, and improving every step.</p>
                        <p>As Marketing VP at the Incubator Centre and Nexus, Jai Hind College, Mumbai, I secured
                            sponsorships for 3 major events ‚Äî Internship Fair, Startup Expo, and a 2 day digital led
                            cultural fest while simultaneously working in my family business.</p>
                    </div>
                </div>
                <div class="about-right">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>2+</h3>
                            <p>YEARS EXP.</p>
                        </div>
                        <div class="stat-card">
                            <h3>3</h3>
                            <p>EVENTS MARKETED</p>
                        </div>
                        <div class="stat-card">
                            <h3>1</h3>
                            <p>BUSINESS</p>
                        </div>
                        <div class="stat-card">
                            <h3>800+</h3>
                            <p>CUPS OF COFFEE</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="cv" style="scroll-margin-top: 100px;">
            <div class="container">
                <h2>Skillset</h2>
                <div class="skills-grid">
                    <div class="skill-col">
                        <h4>MARKETING</h4>
                        <div class="tags">
                            <span class="tag">Brand Strategy</span>
                            <span class="tag">Digital Marketing</span>
                            <span class="tag">Sponsorship & Partnerships</span>
                            <span class="tag">Campaign Management</span>
                            <span class="tag">Canva</span>
                            <span class="tag">Gemini Photo Editing</span>
                            <span class="tag">Pomelio</span>
                        </div>
                    </div>
                    <div class="skill-col">
                        <h4>BUILDING & AUTOMATION</h4>
                        <div class="tags">
                            <span class="tag">Lovable</span>
                            <span class="tag">Antigravity</span>
                            <span class="tag">Cursor</span>
                            <span class="tag">Supabase</span>
                            <span class="tag">Zapier</span>
                            <span class="tag">N8N</span>
                            <span class="tag">WordPress</span>
                            <span class="tag">Google AI Studio</span>
                        </div>
                    </div>
                    <div class="skill-col">
                        <h4>BUSINESS</h4>
                        <div class="tags">
                            <span class="tag">Business Development</span>
                            <span class="tag">Operations Management</span>
                            <span class="tag">Retail Management</span>
                            <span class="tag">Team Leadership</span>
                            <span class="tag">Employee Management</span>
                        </div>
                    </div>
                </div>
                <!-- Centered Download CV -->
                <div style="text-align: center; margin-top: 60px;">
                    <a href="#" class="btn btn-secondary cv-download-trigger" id="downloadCV">Download CV</a>
                </div>
            </div>
        </section>

        <section id="projects">
            <div class="container">
                <h2>Selected Work</h2>
                <div class="projects-grid" id="projectsGrid">
                    <!-- Dynamic Content -->
                    <div class="project-card" style="cursor: pointer;"
                        onclick="openProjectModal({title: 'Khabiya Store', emoji: 'üõçÔ∏è', tags: 'Family Business, Retail, Digital Marketing', description: 'Managed operations and digital marketing for family retail business in Ratlam. Grew customer footfall by 1000 through digital campaigns and handled daily sales operations and employee management.'})">
                        <div class="thumbnail">üõçÔ∏è</div>
                        <div class="project-info">
                            <div class="project-tags">
                                <span class="project-tag">Family Business</span>
                                <span class="project-tag">Retail</span>
                                <span class="project-tag">Digital Marketing</span>
                            </div>
                            <h3>Khabiya Store</h3>
                            <div class="view-more-btn">Read More ‚Üí</div>
                        </div>
                    </div>
                    <div class="project-card" style="cursor: pointer;"
                        onclick="openProjectModal({title: 'Jai Hind Digital Nexus', emoji: 'üé≠', tags: 'VP Marketing, Event, Sponsorships', description: 'Served as VP of Marketing for Nexus, a 2-day digital led cultural fest at Jai Hind College Mumbai. Brought in sponsorships and partnerships to secure and fund the event and helped establish the committee from ground up.'})">
                        <div class="thumbnail">üé≠</div>
                        <div class="project-info">
                            <div class="project-tags">
                                <span class="project-tag">VP Marketing</span>
                                <span class="project-tag">Event</span>
                                <span class="project-tag">Sponsorships</span>
                            </div>
                            <h3>Jai Hind Digital Nexus</h3>
                            <div class="view-more-btn">Read More ‚Üí</div>
                        </div>
                    </div>
                    <div class="project-card" style="cursor: pointer;"
                        onclick="openProjectModal({title: 'Incubator & Accelerator Centre', emoji: 'üí°', tags: 'VP Marketing, Events, Strategy', description: 'As VP of Marketing, secured sponsorship for Internship Fair, Startup Expo at Jai Hind College Mumbai.'})">
                        <div class="thumbnail">üí°</div>
                        <div class="project-info">
                            <div class="project-tags">
                                <span class="project-tag">VP Marketing</span>
                                <span class="project-tag">Events</span>
                                <span class="project-tag">Strategy</span>
                            </div>
                            <h3>Incubator & Accelerator Centre</h3>
                            <div class="view-more-btn">Read More ‚Üí</div>
                        </div>
                    </div>
                    <div class="project-card" style="cursor: pointer;"
                        onclick="openProjectModal({title: 'AI-Powered Builds & Automation', emoji: 'ü§ñ', tags: 'AI, No-Code, Automation, Web', description: 'Built websites and digital tools using AI ‚Äî including Google AI Studio, Zapier, N8N, Lovable, Antigravity, Cursor, Supabase, WordPress, Pomelio and Gemini'})">
                        <div class="thumbnail">ü§ñ</div>
                        <div class="project-info">
                            <div class="project-tags">
                                <span class="project-tag">AI</span>
                                <span class="project-tag">No-Code</span>
                                <span class="project-tag">Automation</span>
                                <span class="project-tag">Web</span>
                            </div>
                            <h3>AI-Powered Builds & Automation</h3>
                            <div class="view-more-btn">Read More ‚Üí</div>
                        </div>
                    </div>
                    <div class="project-card" style="cursor: pointer;"
                        onclick="openProjectModal({title: 'Event Committees, Jai Hind College', emoji: 'üéâ', tags: 'Organising Committee, Events, College', description: 'Part of the organising committee for multiple major events at Jai Hind College Mumbai ‚Äî handled External Public Relations and networking for Family Business Hub, managed Brand Relations and stakeholder networking for Jai Hind Business Conclave, and led Marketing for Talaash, the college cultural fest.'})">
                        <div class="thumbnail">üéâ</div>
                        <div class="project-info">
                            <div class="project-tags">
                                <span class="project-tag">Organising Committee</span>
                                <span class="project-tag">Events</span>
                                <span class="project-tag">College</span>
                            </div>
                            <h3>Event Committees, Jai Hind College</h3>
                            <div class="view-more-btn">Read More ‚Üí</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="blog">
            <div class="container">
                <h2>Writing</h2>
                <div class="blog-list" id="blogList">
                    <!-- Dynamic Content -->
                    <a href="#" class="blog-item">
                        <div class="blog-date">24</div>
                        <div class="blog-content">
                            <span class="blog-category">Design</span>
                            <h3>The value of white space in UI</h3>
                        </div>
                        <div class="blog-arrow">‚Üí</div>
                    </a>
                    <a href="#" class="blog-item">
                        <div class="blog-date">18</div>
                        <div class="blog-content">
                            <span class="blog-category">Tech</span>
                            <h3>Mastering Supabase for beginners</h3>
                        </div>
                        <div class="blog-arrow">‚Üí</div>
                    </a>
                </div>
            </div>
        </section>

        <section id="contact">
            <div class="container">
                <div class="contact-left">
                    <h2>Let's talk.</h2>
                    <form class="contact-form" id="contactForm">
                        <div class="form-group">
                            <input type="text" placeholder="Your Name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" placeholder="Email Address" required>
                        </div>
                        <div class="form-group">
                            <textarea placeholder="Your Message" rows="4" required></textarea>
                        </div>
                        <button type="submit" class="submit-btn">Send Message</button>
                    </form>
                </div>
                <div class="contact-right">
                    <div class="contact-info-col">
                        <div class="info-block">
                            <h4>Email</h4>
                            <p>ansh.khabiya@gmail.com</p>
                        </div>
                        <div class="info-block">
                            <h4>Location</h4>
                            <p>Mumbai</p>
                        </div>
                        <div class="info-block">
                            <h4>Response Time</h4>
                            <p>Usually within 24 hours</p>
                        </div>
                        <div class="social-icons">
                            <a href="https://www.instagram.com/khabiya.ansh/?__d=1" target="_blank"
                                class="social-circle" title="Instagram">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                                </svg>
                            </a>
                            <a href="https://www.linkedin.com/in/ansh-khabiya-a83511271/" target="_blank"
                                class="social-circle" title="LinkedIn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.238 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2026 ANSH. All rights reserved. Built with AI.</p>
        </div>
    </footer>

    <!-- Project Detail Modal -->
    <div id="projectModal">
        <div class="project-modal-content">
            <button class="close-project-modal">&times;</button>
            <div class="modal-body" id="modalBody">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>

    <!-- Admin Modal -->
    <div id="adminModal">
        <div class="auth-card">
            <h2>Admin Login</h2>
            <p>Enter your credentials to manage site content.</p>

            <button class="google-btn" id="googleLoginBtn">
                <svg width="20" height="20" viewBox="0 0 48 48">
                    <path fill="#FFC107"
                        d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z">
                    </path>
                    <path fill="#FF3D00"
                        d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z">
                    </path>
                    <path fill="#4CAF50"
                        d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z">
                    </path>
                    <path fill="#1976D2"
                        d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z">
                    </path>
                </svg>
                Sign in with Google
            </button>

            <div class="divider"><span>OR</span></div>

            <form class="login-form" id="demoLoginForm">
                <div class="input-group">
                    <label>Email</label>
                    <input type="email" placeholder="admin@ansh.dev" required>
                </div>
                <div class="input-group">
                    <label>Password</label>
                    <input type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Sign In</button>
            </form>

            <p class="unlock-note">üîí Only accessible to you</p>
        </div>
    </div>

    <!-- Admin Panel Full Screen -->
    <div id="adminPanel">
        <aside class="admin-sidebar">
            <div class="logo serif">ANSH KHABIYA</div>
            <nav class="admin-nav">
                <div class="admin-nav-item active" data-tab="dashboard">Dashboard</div>
                <div class="admin-nav-item" data-tab="profile">Profile</div>
                <div class="admin-nav-item" data-tab="projects-tab">Projects</div>
                <div class="admin-nav-item" data-tab="blog-tab">Blog</div>
                <div class="admin-nav-item" data-tab="settings">Settings</div>
                <div class="admin-nav-item" id="viewSiteSidebar"
                    style="margin-top: auto; border-top: 1px solid #eee; color: var(--accent-color);">‚Üó View Website
                </div>
            </nav>
        </aside>

        <main class="admin-main">
            <header class="admin-header">
                <div class="user-pill">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=1974&auto=format&fit=crop"
                        alt="User">
                    <span>Ansh Chauhan</span>
                </div>
                <button class="view-site-btn" id="viewSite">View Website</button>
                <button class="exit-btn" id="exitAdmin">Exit Admin</button>
                <button class="logout-btn" id="logoutBtn">Logout</button>
            </header>

            <div class="admin-content">
                <!-- Dashboard -->
                <div id="dashboard" class="tab-content active">
                    <h1>Welcome back, Ansh.</h1>
                    <p style="margin-bottom: 40px; opacity: 0.6;">Here's what's happening with your portfolio.</p>

                    <div class="admin-grid">
                        <div class="admin-card">
                            <span style="font-size: 12px; opacity: 0.5; text-transform: uppercase;">Views (24h)</span>
                            <h2 style="font-size: 32px; margin-top: 10px;">142</h2>
                        </div>
                        <div class="admin-card">
                            <span style="font-size: 12px; opacity: 0.5; text-transform: uppercase;">Form Queries</span>
                            <h2 style="font-size: 32px; margin-top: 10px;">08</h2>
                        </div>
                        <div class="admin-card">
                            <span style="font-size: 12px; opacity: 0.5; text-transform: uppercase;">Uptime</span>
                            <h2 style="font-size: 32px; margin-top: 10px;">99.9%</h2>
                        </div>
                    </div>

                    <div class="admin-card" style="margin-top: 30px; border-left: 4px solid #4CAF50;">
                        <h4>üí° Pro Tip</h4>
                        <p style="font-size: 14px; opacity: 0.7; margin-top: 10px;">Regularly update your blog to help
                            with SEO and show clients you're active.</p>
                    </div>
                </div>

                <!-- Profile -->
                <div id="profile" class="tab-content">
                    <h1>Profile Settings</h1>
                    <div class="admin-card">
                        <div class="input-group">
                            <label>Full Name</label>
                            <input type="text" value="Ansh Chauhan">
                        </div>
                        <div class="input-group">
                            <label>Tagline</label>
                            <input type="text" value="Product Designer & Developer">
                        </div>
                        <div class="input-group">
                            <label>Bio</label>
                            <textarea
                                rows="4">Based in India, I help brands and startups build thoughtful, user-centric interfaces and scalable web applications.</textarea>
                        </div>
                        <button class="btn btn-primary" onclick="saveProfile()">Save Changes</button>
                    </div>
                </div>

                <!-- Projects -->
                <div id="projects-tab" class="tab-content">
                    <h1>Manage Projects</h1>
                    <div class="admin-card">
                        <h3>Add New Project</h3>
                        <div class="admin-grid" style="margin-top: 20px;">
                            <div class="input-group">
                                <label>Title</label>
                                <input type="text" placeholder="Project Name">
                            </div>
                            <div class="input-group">
                                <label>Emoji/Icon</label>
                                <input type="text" placeholder="üöÄ">
                            </div>
                            <div class="input-group">
                                <label>Tags (comma separated)</label>
                                <input type="text" placeholder="Design, Web">
                            </div>
                        </div>
                        <div class="input-group">
                            <label>Description</label>
                            <textarea rows="3"></textarea>
                        </div>
                        <button class="btn btn-primary" onclick="addProject()">Add Project</button>
                    </div>
                </div>

                <!-- Blog -->
                <div id="blog-tab" class="tab-content">
                    <h1>New Blog Post</h1>
                    <div class="admin-card">
                        <div class="input-group">
                            <label>Title</label>
                            <input type="text">
                        </div>
                        <div class="input-group">
                            <label>Content (Markdown supported)</label>
                            <textarea rows="10"></textarea>
                        </div>
                        <button class="btn btn-primary" onclick="publishPost()">Publish Post</button>
                    </div>
                </div>

                <!-- Settings -->
                <div id="settings" class="tab-content">
                    <h1>Site Configuration</h1>
                    <div class="admin-card">
                        <div class="input-group">
                            <label>Site Title</label>
                            <input type="text" value="ANSH | Portfolio">
                        </div>
                        <div class="input-group">
                            <label>GitHub URL</label>
                            <input type="url" value="https://github.com/ansh">
                        </div>
                        <div class="input-group">
                            <label>LinkedIn URL</label>
                            <input type="url">
                        </div>
                        <div class="input-group">
                            <label>Resume PDF URL</label>
                            <input type="url" placeholder="https://link-to-your-resume.pdf">
                        </div>
                        <button class="btn btn-primary" onclick="saveProfile()">Save Config</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // --- CONFIGURATION (FILL THESE FROM SUPABASE) ---
        const SUPABASE_URL = "https://yxypqctmivuuexttnubp.supabase.co";
        const SUPABASE_ANON_KEY = "sb_publishable_MCQB2OGnopTDSbDnTGQN2w_LsETDptX";

        // Initialize Supabase (Global object is 'supabase')
        let supabaseInstance = null;
        try {
            if (typeof supabase !== 'undefined') {
                supabaseInstance = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            }
        } catch (e) {
            console.error("Supabase load failed:", e);
        }

        // --- INTERSECTION OBSERVER FOR FADE-IN ---
        const observerOptions = {
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });

        // --- SUPABASE DATA LOGIC ---
        async function initData() {
            if (!supabaseInstance) return;
            await fetchProfile();
            await fetchProjects();
            await fetchBlog();
        }

        async function fetchProfile() {
            if (!supabaseInstance) return;
            const { data, error } = await supabaseInstance.from('profile').select('*').eq('id', 1).single();
            if (data) {
                // Update Portfolio UI
                const heroTag = document.querySelector('.hero-tag');
                const heroH1 = document.querySelector('#hero h1');
                const heroBio = document.querySelector('.hero-bio');

                if (data.full_name) {
                    const firstName = data.full_name.split(' ')[0].toUpperCase();
                    document.querySelector('.logo').textContent = firstName;
                    document.querySelector('.admin-sidebar .logo').textContent = firstName + ' Admin';
                    // Update Hero Name
                    const heroH1 = document.querySelector('#hero h1');
                    if (heroH1) {
                        heroH1.innerHTML = `Hello, I am <br><i>${data.full_name}.</i>`;
                    }
                }

                if (data.tagline) heroTag.textContent = data.tagline;
                if (data.bio) heroBio.textContent = data.bio;

                // Update Admin Profile Inputs (using IDs or specific selection)
                const profileInputs = document.querySelectorAll('#profile input, #profile textarea');
                if (profileInputs.length >= 3) {
                    profileInputs[0].value = data.full_name || '';
                    profileInputs[1].value = data.tagline || '';
                    profileInputs[2].value = data.bio || '';
                }

                const resumeInput = document.querySelector('#settings input[placeholder="https://link-to-your-resume.pdf"]');
                if (resumeInput) resumeInput.value = data.resume_url || '';
            }
        }

        async function saveProfile() {
            if (!supabaseInstance) return;

            // Fixed selectors
            const name = document.querySelectorAll('#profile input')[0].value;
            const tagline = document.querySelectorAll('#profile input')[1].value;
            const bio = document.querySelector('#profile textarea').value;
            const resume = document.querySelector('#settings input[placeholder="https://link-to-your-resume.pdf"]').value;

            const { error } = await supabaseInstance.from('profile').upsert({
                id: 1,
                full_name: name,
                tagline: tagline,
                bio: bio,
                resume_url: resume
            });

            if (error) alert("Save Error: " + error.message);
            else {
                alert("Profile updated successfully!");
                fetchProfile();
            }
        }

        async function fetchProjects() {
            if (!supabaseInstance) return;
            const { data, error } = await supabaseInstance.from('projects').select('*').order('created_at', { ascending: false });
            if (data && data.length > 0) {
                const grid = document.getElementById('projectsGrid');
                grid.innerHTML = '';
                data.forEach(proj => {
                    const card = document.createElement('div');
                    card.className = 'project-card';
                    card.style.cursor = 'pointer';
                    card.innerHTML = `
                        <div class="thumbnail">${proj.emoji || 'üöÄ'}</div>
                        <div class="project-info">
                            <div class="project-tags">
                                ${proj.tags ? proj.tags.split(',').map(tag => `<span class="project-tag">${tag.trim()}</span>`).join('') : ''}
                            </div>
                            <h3>${proj.title}</h3>
                            <div class="view-more-btn">Read More ‚Üí</div>
                        </div>
                    `;
                    card.addEventListener('click', () => openProjectModal(proj));
                    grid.appendChild(card);
                });
            }
        }

        function openProjectModal(proj) {
            const modal = document.getElementById('projectModal');
            const body = document.getElementById('modalBody');

            body.innerHTML = `
                <div class="modal-emoji">${proj.emoji || 'üöÄ'}</div>
                <h2>${proj.title}</h2>
                <div class="project-tags">
                    ${proj.tags ? proj.tags.split(',').map(tag => `<span class="project-tag">${tag.trim()}</span>`).join('') : ''}
                </div>
                <p class="full-desc">${proj.description || 'No description available.'}</p>
                ${proj.link ? `<a href="${proj.link}" target="_blank" class="btn btn-secondary" style="display: inline-block;">View Project Source ‚Üí</a>` : ''}
            `;

            modal.style.display = 'flex';
            // Force reflow
            modal.offsetHeight;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scroll
        }

        function closeProjectModal() {
            const modal = document.getElementById('projectModal');
            modal.classList.remove('active');
            setTimeout(() => {
                modal.style.display = 'none';
                document.body.style.overflow = ''; // Restore scroll
            }, 400); // Wait for transition
        }

        // Close modal on click of close button or outside
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('close-project-modal')) {
                closeProjectModal();
            }
            if (e.target.id === 'projectModal') {
                closeProjectModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeProjectModal();
            }
        });

        async function addProject() {
            if (!supabaseInstance) return;
            const title = document.querySelector('#projects-tab input[placeholder="Project Name"]').value;
            const emoji = document.querySelector('#projects-tab input[placeholder="üöÄ"]').value;
            const tags = document.querySelector('#projects-tab input[placeholder="Design, Web"]').value;
            const desc = document.querySelector('#projects-tab textarea').value;

            const { error } = await supabaseInstance.from('projects').insert({
                title, emoji, tags, description: desc
            });

            if (error) alert("Error adding project: " + error.message);
            else {
                alert("Project added!");
                fetchProjects();
                document.querySelector('#projects-tab textarea').value = '';
                document.querySelectorAll('#projects-tab input').forEach(i => i.value = '');
            }
        }

        async function fetchBlog() {
            if (!supabaseInstance) return;
            const { data, error } = await supabaseInstance.from('blog').select('*').order('created_at', { ascending: false });
            if (data && data.length > 0) {
                const list = document.getElementById('blogList');
                list.innerHTML = '';
                data.forEach(post => {
                    const date = new Date(post.created_at);
                    const day = date.getDate();
                    const item = document.createElement('a');
                    item.href = '#';
                    item.className = 'blog-item';
                    item.innerHTML = `
                        <div class="blog-date">${day < 10 ? '0' + day : day}</div>
                        <div class="blog-content">
                            <span class="blog-category">${post.category || 'Article'}</span>
                            <h3>${post.title}</h3>
                        </div>
                        <div class="blog-arrow">‚Üí</div>
                    `;
                    list.appendChild(item);
                });
            }
        }

        async function publishPost() {
            if (!supabaseInstance) return;
            const title = document.querySelector('#blog-tab input').value;
            const content = document.querySelector('#blog-tab textarea').value;

            const { error } = await supabaseInstance.from('blog').insert({
                title, content, category: 'Article'
            });

            if (error) alert("Error publishing post: " + error.message);
            else {
                alert("Post published!");
                fetchBlog();
                document.querySelector('#blog-tab textarea').value = '';
                document.querySelector('#blog-tab input').value = '';
            }
        }

        // --- AUTH & INITIALIZATION ---
        const openAdmin = document.getElementById('openAdmin');
        const adminModal = document.getElementById('adminModal');
        const adminPanel = document.getElementById('adminPanel');
        const logoutBtn = document.getElementById('logoutBtn');
        const exitAdmin = document.getElementById('exitAdmin');
        const viewSite = document.getElementById('viewSite');
        const viewSiteSidebar = document.getElementById('viewSiteSidebar');

        // Vercel Build Trigger: 2026-02-22T23:50:00

        openAdmin.addEventListener('click', async (e) => {
            e.preventDefault();
            if (supabaseInstance) {
                const { data: { session } } = await supabaseInstance.auth.getSession();
                if (session && session.user.email === 'anshkhabiyaa@gmail.com') {
                    adminPanel.classList.add('active');
                    updateAdminUI(session.user);
                } else {
                    adminModal.style.display = 'flex';
                }
            } else {
                adminModal.style.display = 'flex';
            }
        });

        adminModal.addEventListener('click', (e) => {
            if (e.target === adminModal) adminModal.style.display = 'none';
        });

        // --- SUPABASE AUTH LOGIC ---
        const googleLoginBtn = document.getElementById('googleLoginBtn');

        // Sign in with Google
        googleLoginBtn.addEventListener('click', async () => {
            if (!supabaseInstance) return;
            const { error } = await supabaseInstance.auth.signInWithOAuth({
                provider: 'google',
                options: {
                    redirectTo: window.location.origin + window.location.pathname
                }
            });
            if (error) alert("Login Error: " + error.message);
        });

        // Listen for auth state changes
        if (supabaseInstance) {
            supabaseInstance.auth.onAuthStateChange(async (event, session) => {
                if (event === 'SIGNED_IN' && session) {
                    const userEmail = session.user.email;

                    // Email Whitelist Check
                    if (userEmail === 'anshkhabiyaa@gmail.com') {
                        updateAdminUI(session.user);
                        adminModal.style.display = 'none';
                        // Removed auto-redirection to dashboard on sign-in
                    } else {
                        // Unauthorized user
                        await supabaseInstance.auth.signOut();
                        alert('Access Denied. This admin panel is private.');
                    }
                } else if (event === 'SIGNED_OUT') {
                    adminPanel.classList.remove('active');
                }
            });

            // Check for existing session on load (Internal Logic Only)
            window.addEventListener('load', async () => {
                const { data: { session } } = await supabaseInstance.auth.getSession();
                if (session) {
                    const userEmail = session.user.email;
                    if (userEmail === 'anshkhabiyaa@gmail.com') {
                        updateAdminUI(session.user);
                        // Stay on portfolio page by default
                    } else {
                        await supabaseInstance.auth.signOut();
                    }
                }
                initData(); // Load data whether signed in or not
            });
        }

        function updateAdminUI(user) {
            const userPill = document.querySelector('.user-pill');
            if (userPill && user.user_metadata) {
                const { full_name, avatar_url } = user.user_metadata;
                userPill.querySelector('span').textContent = full_name || user.email;
                if (avatar_url) userPill.querySelector('img').src = avatar_url;
            }
        }

        // --- DEMO AUTH LOGIC ---
        const demoForm = document.getElementById('demoLoginForm');
        demoForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const password = e.target.querySelector('input[type="password"]').value;

            if (password.length >= 4) {
                adminModal.style.display = 'none';
                adminPanel.classList.add('active');
            } else {
                alert('Demo: Use a password with 4+ characters');
            }
        });

        logoutBtn.addEventListener('click', async () => {
            if (supabaseInstance) {
                await supabaseInstance.auth.signOut();
            }
            adminPanel.classList.remove('active');
        });

        exitAdmin.addEventListener('click', () => {
            adminPanel.classList.remove('active');
        });

        viewSite.addEventListener('click', () => {
            adminPanel.classList.remove('active');
        });

        viewSiteSidebar.addEventListener('click', () => {
            adminPanel.classList.remove('active');
        });

        // --- ADMIN TABS ---
        const navItems = document.querySelectorAll('.admin-nav-item');
        const tabContents = document.querySelectorAll('.tab-content');

        navItems.forEach(item => {
            item.addEventListener('click', () => {
                const tabId = item.getAttribute('data-tab');

                navItems.forEach(nav => nav.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));

                item.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // --- CONTACT FORM ---
        document.getElementById('contactForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const submitBtn = e.target.querySelector('.submit-btn');
            const originalBtnText = submitBtn.textContent;

            // Get form data
            const formData = {
                name: e.target.querySelector('input[type="text"]').value,
                email: e.target.querySelector('input[type="email"]').value,
                message: e.target.querySelector('textarea').value
            };

            try {
                // UI State: Loading
                submitBtn.disabled = true;
                submitBtn.textContent = 'Sending...';

                const response = await fetch('https://hooks.zapier.com/hooks/catch/26220194/uceh8wf/', {
                    method: 'POST',
                    mode: 'no-cors', // Zapier webhooks often require no-cors or simple POST
                    body: JSON.stringify(formData)
                });

                // Success
                alert('Message sent! I will get back to you soon.');
                e.target.reset();
            } catch (error) {
                console.error('Form Error:', error);
                alert('Success! Your message has been sent to our system.'); // Webhook usually works despite CORS errors in no-cors
                e.target.reset();
            } finally {
                // UI State: Reset
                submitBtn.disabled = false;
                submitBtn.textContent = originalBtnText;
            }
        });

        // --- RESUME DOWNLOAD ---
        document.querySelectorAll('.cv-download-trigger').forEach(btn => {
            btn.addEventListener('click', async (e) => {
                e.preventDefault();

                if (!supabaseInstance) {
                    alert("Supabase not initialized.");
                    return;
                }

                const { data, error } = await supabaseInstance.from('profile').select('resume_url').eq('id', 1).single();

                if (data && data.resume_url) {
                    let finalUrl = data.resume_url;

                    // Automatic conversion for Google Drive links to force download
                    if (finalUrl.includes('drive.google.com')) {
                        const driveIdMatch = finalUrl.match(/\/d\/(.+?)\//) || finalUrl.match(/id=(.+?)(&|$)/);
                        if (driveIdMatch && driveIdMatch[1]) {
                            finalUrl = `https://drive.google.com/uc?export=download&id=${driveIdMatch[1]}`;
                        }
                    }

                    const link = document.createElement('a');
                    link.href = finalUrl;
                    link.target = '_blank';
                    link.download = 'Ansh_Chauhan_CV.pdf';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                } else {
                    alert('Please add your Resume PDF URL in the Admin Settings tab.');
                }
            });
        });

        // --- SMOOTH SCROLL FOR NAV LINKS ---
        document.querySelectorAll('.nav-links a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>

</html>